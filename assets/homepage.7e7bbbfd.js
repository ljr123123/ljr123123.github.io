import{_ as $,o as a,c as d,d as o,n as k,t as h,p as L,i as P,m as S,a as z,w as u,F as p,e as v,b as m,q as O,s as y,u as F,v as q,E as x,x as G,y as U}from"./index.e8d0637a.js";import{g as I}from"./file.fd19e26f.js";import{g as W,a as A}from"./work.10e8bd8e.js";import{m as B}from"./index.ff593085.js";/* empty css                   */const H={name:"CardMini",props:{title:{type:String},auth:{type:String},avatar:{type:String},cover:{type:String},hot:{type:[String,Number]}},data(){return{}},methods:{},mounted(){}},V=s=>(L("data-v-f4f9de9c"),s=s(),P(),s),Z={class:"card-mini"},R={class:"bot"},J={class:"title"},K={class:"bar"},Q={class:"flex"},X={class:"info"},Y={class:"flex"},j=V(()=>o("div",{class:"eye"},null,-1)),tt={class:"info"};function et(s,e,i,n,r,c){return a(),d("div",Z,[o("div",{class:"cover",style:k({backgroundImage:`url('${i.cover}')`})},null,4),o("div",R,[o("div",J,h(i.title),1),o("div",K,[o("div",Q,[o("div",{class:"avatar",style:k({backgroundImage:`url('${i.avatar}')`})},null,4),o("div",X,h(i.auth),1)]),o("div",Y,[j,o("div",tt,h(i.hot),1)])])])])}var C=$(H,[["render",et],["__scopeId","data-v-f4f9de9c"]]);const st={name:"Card",props:{title:{type:String},auth:{type:String},avatar:{type:String},cover:{type:String},hot:{type:[String,Number]}},data(){return{}},methods:{},mounted(){}},ot=s=>(L("data-v-7e8c81de"),s=s(),P(),s),it={class:"card"},at={class:"bot"},rt={class:"title"},nt={class:"bar"},lt={class:"flex"},ct={class:"info"},dt={class:"flex"},ut=ot(()=>o("div",{class:"eye"},null,-1)),_t={class:"info"};function pt(s,e,i,n,r,c){return a(),d("div",it,[o("div",{class:"cover",style:k({backgroundImage:`url('${i.cover}')`})},null,4),o("div",at,[o("div",rt,h(i.title),1),o("div",nt,[o("div",lt,[o("div",{class:"avatar",style:k({backgroundImage:`url('${i.avatar}')`})},null,4),o("div",ct,h(i.auth),1)]),o("div",dt,[ut,o("div",_t,h(i.hot),1)])])])])}var vt=$(st,[["render",pt],["__scopeId","data-v-7e8c81de"]]);function ht(s){return B.get({url:"/prize/get",params:{prizeId:s}})}const mt={name:"page3",data(){return{zoomOn:!1,prize1List:[],prize1List_df:[],prize1List_ssp:[],prize1List_dsp:[],prize1List_ai:[],prize2List:[],prize2List_df:[],prize2List_ssp:[],prize2List_dsp:[],prize2List_ai:[],prize3List:[],prize3List_df:[],prize3List_ssp:[],prize3List_dsp:[],prize3List_ai:[],prize4List:[],prize4List_df:[],prize4List_ssp:[],prize4List_dsp:[],prize4List_ai:[]}},inject:["globalData"],methods:{replaceBlob(s,e){e.forEach(i=>{I(s[i]).then(n=>{s[i]=n,this.$forceUpdate()}),s[i]=S("loading.gif")})},setPrizedArr(s){let e=[];for(let i in s){let n={};n.workId=s[i].workId,n.title=s[i].workTitle,n.auth=s[i].makerName,n.hot=s[i].views,n.avatar=s[i].makerAvatar,n.cover=s[i].coverFile,e.push(n)}return e.forEach(i=>{this.replaceBlob(i,["cover"])}),e}},computed:{contestId(){return this.globalData.contestId}},watch:{contestId(s){s!==-1&&W(this.globalData.contestId).then(e=>{let i=e.data;for(let n in i)ht(n).then(r=>{let c=r.data;c.contestGroup===1?c.prizeName==="\u4E00\u7B49\u5956"?this.prize1List_df=this.setPrizedArr(i[n]):c.prizeName==="\u4E8C\u7B49\u5956"?this.prize2List_df=this.setPrizedArr(i[n]):c.prizeName==="\u4E09\u7B49\u5956"?this.prize3List_df=this.setPrizedArr(i[n]):c.prizeName==="\u4F18\u79C0\u5956"&&(this.prize4List_df=this.setPrizedArr(i[n])):c.contestGroup===2?c.prizeName==="\u4E00\u7B49\u5956"?this.prize1List_ssp=this.setPrizedArr(i[n]):c.prizeName==="\u4E8C\u7B49\u5956"?this.prize2List_ssp=this.setPrizedArr(i[n]):c.prizeName==="\u4E09\u7B49\u5956"?this.prize3List_ssp=this.setPrizedArr(i[n]):c.prizeName==="\u4F18\u79C0\u5956"&&(this.prize4List_ssp=this.setPrizedArr(i[n])):c.contestGroup===3?c.prizeName==="\u4E00\u7B49\u5956"?this.prize1List_dsp=this.setPrizedArr(i[n]):c.prizeName==="\u4E8C\u7B49\u5956"?this.prize2List_dsp=this.setPrizedArr(i[n]):c.prizeName==="\u4E09\u7B49\u5956"?this.prize3List_dsp=this.setPrizedArr(i[n]):c.prizeName==="\u4F18\u79C0\u5956"&&(this.prize4List_dsp=this.setPrizedArr(i[n])):c.contestGroup===4&&(c.prizeName==="\u4E00\u7B49\u5956"?this.prize1List_ai=this.setPrizedArr(i[n]):c.prizeName==="\u4E8C\u7B49\u5956"?this.prize2List_ai=this.setPrizedArr(i[n]):c.prizeName==="\u4E09\u7B49\u5956"?this.prize3List_ai=this.setPrizedArr(i[n]):c.prizeName==="\u4F18\u79C0\u5956"&&(this.prize4List_ai=this.setPrizedArr(i[n])))})})}}},N=s=>(L("data-v-4f7a8d5e"),s=s(),P(),s),zt={class:"page3"},gt=N(()=>o("div",{class:"prize_out"},[o("div",{class:"prize"},[o("div",{class:"prize_font"},"\u4E00\u7B49\u5956")])],-1)),ft=N(()=>o("div",{class:"prize_out"},[o("div",{class:"prize"},[o("div",{class:"prize_font"},"\u4E8C\u7B49\u5956")])],-1)),bt=N(()=>o("div",{class:"prize_out"},[o("div",{class:"prize"},[o("div",{class:"prize_font"},"\u4E09\u7B49\u5956")])],-1)),$t=N(()=>o("div",{class:"prize_out"},[o("div",{class:"prize"},[o("div",{class:"prize_font"},"\u4F18\u79C0\u5956")])],-1)),Lt={class:"prize4_card"},Pt={class:"prize4_card"},kt={class:"prize4_card"},Nt={class:"prize4_card"};function St(s,e,i,n,r,c){const f=O,_=vt,l=y,b=C;return a(),d("div",zt,[z(f,{src:"https://avatars.githubusercontent.com/u/6",ON:r.zoomOn,"onUpdate:ON":[e[0]||(e[0]=t=>r.zoomOn=t),e[1]||(e[1]=t=>r.zoomOn=!1)]},null,8,["ON"]),gt,z(l,{id:1,sticky:"0",title_list:["\u5355\u53CD\u7EC4","\u968F\u624B\u62CD\u7EC4","\u77ED\u89C6\u9891\u7EC4","AI\u7EC4"],onTab0Click:e[3]||(e[3]=t=>s.setPrize1State(0)),onTab1Click:e[4]||(e[4]=t=>s.setPrize1State(1)),onTab2Click:e[5]||(e[5]=t=>s.setPrize1State(2)),onTab3Click:e[6]||(e[6]=t=>s.setPrize1State(3))},{tab0:u(()=>[(a(!0),d(p,null,v(r.prize1List_df,t=>(a(),m(_,{onClick:e[2]||(e[2]=T=>s.$router.push({path:"/WorkDetail",query:{workId:13}})),title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab1:u(()=>[(a(!0),d(p,null,v(r.prize1List_ssp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab2:u(()=>[(a(!0),d(p,null,v(r.prize1List_dsp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab3:u(()=>[(a(!0),d(p,null,v(r.prize1List_ai,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),_:1}),ft,z(l,{id:2,sticky:"0",title_list:["\u5355\u53CD\u7EC4","\u968F\u624B\u62CD\u7EC4","\u77ED\u89C6\u9891\u7EC4","AI\u7EC4"],onTab0Click:e[7]||(e[7]=t=>s.setPrize2State(0)),onTab1Click:e[8]||(e[8]=t=>s.setPrize2State(1)),onTab2Click:e[9]||(e[9]=t=>s.setPrize2State(2)),onTab3Click:e[10]||(e[10]=t=>s.setPrize2State(3))},{tab0:u(()=>[(a(!0),d(p,null,v(r.prize2List_df,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab1:u(()=>[(a(!0),d(p,null,v(r.prize2List_ssp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab2:u(()=>[(a(!0),d(p,null,v(r.prize2List_dsp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab3:u(()=>[(a(!0),d(p,null,v(r.prize2List_ai,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),_:1}),bt,z(l,{id:3,sticky:"0",title_list:["\u5355\u53CD\u7EC4","\u968F\u624B\u62CD\u7EC4","\u77ED\u89C6\u9891\u7EC4","AI\u7EC4"],onTab0Click:e[11]||(e[11]=t=>s.setPrize3State(0)),onTab1Click:e[12]||(e[12]=t=>s.setPrize3State(1)),onTab2Click:e[13]||(e[13]=t=>s.setPrize3State(2)),onTab3Click:e[14]||(e[14]=t=>s.setPrize3State(3))},{tab0:u(()=>[(a(!0),d(p,null,v(r.prize3List_df,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab1:u(()=>[(a(!0),d(p,null,v(r.prize3List_ssp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab2:u(()=>[(a(!0),d(p,null,v(r.prize3List_dsp,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),tab3:u(()=>[(a(!0),d(p,null,v(r.prize3List_ai,t=>(a(),m(_,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))]),_:1}),$t,z(l,{id:4,sticky:"0",title_list:["\u5355\u53CD\u7EC4","\u968F\u624B\u62CD\u7EC4","\u77ED\u89C6\u9891\u7EC4","AI\u7EC4"],onTab0Click:e[15]||(e[15]=t=>s.setPrize4State(0)),onTab1Click:e[16]||(e[16]=t=>s.setPrize4State(1)),onTab2Click:e[17]||(e[17]=t=>s.setPrize4State(2)),onTab3Click:e[18]||(e[18]=t=>s.setPrize4State(3))},{tab0:u(()=>[o("div",Lt,[(a(!0),d(p,null,v(r.prize4List_df,t=>(a(),m(b,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))])]),tab1:u(()=>[o("div",Pt,[(a(!0),d(p,null,v(r.prize4List_ssp,t=>(a(),m(b,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))])]),tab2:u(()=>[o("div",kt,[(a(!0),d(p,null,v(r.prize4List_dsp,t=>(a(),m(b,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))])]),tab3:u(()=>[o("div",Nt,[(a(!0),d(p,null,v(r.prize4List_ai,t=>(a(),m(b,{title:t.title,auth:t.auth,avatar:t.avatar,hot:t.hot,cover:t.cover},null,8,["title","auth","avatar","hot","cover"]))),256))])]),_:1})])}var E=$(mt,[["render",St],["__scopeId","data-v-4f7a8d5e"]]);F();const yt={name:"page2",props:{loadMore:{default:!1,type:Boolean}},components:[C],inject:["globalData"],data(){return{loading:!1,tabIdx:0,dataList:[],pageNum:1,pageSize:10}},computed:{contestId(){return this.globalData.contestId}},watch:{loadMore(s){this.tabIdx==1&&s&&(this.loading||(this.loading=!0,A({contestId:this.globalData.contestId,pageNum:this.pageNum,pageSize:this.pageSize}).then(e=>{e.code||(this.dataList=this.dataList.concat(e.data),e.data.forEach(i=>{this.replaceBlob(i,["coverFile"])}),this.pageNum++),this.loading=!1})))},contestId(s){s!==-1&&(this.loading=!0,A({contestId:this.globalData.contestId,pageNum:this.pageNum,pageSize:this.pageSize}).then(e=>{console.log(e),e.code||(this.dataList=e.data,e.data.forEach(i=>{this.replaceBlob(i,["coverFile"])}),this.pageNum++),this.loading=!1}))},dataList(){}},methods:{replaceBlob(s,e){console.log(e),e.forEach(i=>{I(s[i]).then(n=>{s[i]=n,this.$forceUpdate()}),s[i]=S("loading.gif"),console.log(this.dataList)})}},mounted(){q.on("need-tab-idx",s=>{s[1]==1&&(this.tabIdx=s[0])})}},It={class:"page2"};function Ct(s,e,i,n,r,c){const f=C;return a(),d("div",It,[(a(!0),d(p,null,v(r.dataList,(_,l)=>(a(),m(f,{key:l,title:_.workTitle,auth:"\u6682\u65E0",avatar:_.makerAvatar,hot:_.views,cover:_.coverFile,onClick:b=>s.$router.push({path:"/WorkDetail",query:{workId:_.workId}})},null,8,["title","avatar","hot","cover","onClick"]))),128))])}var D=$(yt,[["render",Ct],["__scopeId","data-v-14650bf2"]]);const Tt={name:"page1",props:{contest:{type:Object,required:!0}},inject:["globalData"],data(){return{zoomOn:!1}},computed:{prizes(){return this.globalData.prizes}},methods:{},mounted(){setTimeout(()=>{console.log(this.prizes)},1e3)}},xt=s=>(L("data-v-065f13f9"),s=s(),P(),s),At={class:"page1"},Ot=["src"],Bt=xt(()=>o("div",{class:"title-1"},[o("div",{class:"title-1-left"},"\u5956\u9879\u8BBE\u7F6E"),o("div",{class:"title-1-right"},"*\u70B9\u51FB\u56FE\u7247\u53EF\u67E5\u770B\u5956\u54C1\u8BE6\u60C5")],-1)),Et={class:"box-1"},Dt={class:"box-1-item"},wt={class:"box-1-avatar"},Mt=["src"],Ft={class:"box-1-name"},qt={class:"box-1-tip"},Gt={class:"box-1"},Ut={class:"box-1-item"},Wt={class:"box-1-avatar"},Ht=["src"],Vt={class:"box-1-name"},Zt={class:"box-1-tip"},Rt={class:"box-1"},Jt={class:"box-1-item"},Kt={class:"box-1-avatar"},Qt=["src"],Xt={class:"box-1-name"},Yt={class:"box-1-tip"},jt={class:"box-1"},te={class:"box-1-item"},ee={class:"box-1-avatar"},se=["src"],oe={class:"box-1-name"},ie={class:"box-1-tip"},ae=["src"];function re(s,e,i,n,r,c){const f=O,_=y;return a(),d("div",At,[z(f,{src:r.zoomOn,ON:r.zoomOn,"onUpdate:ON":[e[0]||(e[0]=l=>r.zoomOn=l),e[1]||(e[1]=l=>r.zoomOn=!1)]},null,8,["src","ON"]),o("div",{class:"cover",onClick:e[2]||(e[2]=l=>r.zoomOn=i.contest.introductionPic)},[o("img",{class:"inst",src:i.contest.introductionPic,alt:""},null,8,Ot)]),Bt,z(_,{title_list:["\u5355\u53CD\u7EC4","\u968F\u624B\u62CD\u62CD","\u77ED\u89C6\u9891\u7EC4","AI\u7EC4"],onTab0Click:l=>1,onTab1Click:l=>1,onTab2Click:l=>1,onTab3Click:l=>1},{tab0:u(()=>[o("div",null,[o("div",Et,[(a(!0),d(p,null,v(c.prizes[1],l=>(a(),d("div",Dt,[o("div",wt,[o("img",{class:"img-avatar",src:l.goodPic,alt:""},null,8,Mt)]),o("div",Ft,h(l.goodName),1),o("div",qt,h(l.prizeName)+"/"+h(l.totalNum)+"\u540D ",1)]))),256))])])]),tab1:u(()=>[o("div",null,[o("div",Gt,[(a(!0),d(p,null,v(c.prizes[2],l=>(a(),d("div",Ut,[o("div",Wt,[o("img",{class:"img-avatar",src:l.goodPic,alt:""},null,8,Ht)]),o("div",Vt,h(l.goodName),1),o("div",Zt,h(l.prizeName)+"/"+h(l.totalNum)+"\u540D ",1)]))),256))])])]),tab2:u(()=>[o("div",null,[o("div",Rt,[(a(!0),d(p,null,v(c.prizes[3],l=>(a(),d("div",Jt,[o("div",Kt,[o("img",{class:"img-avatar",src:l.goodPic,alt:""},null,8,Qt)]),o("div",Xt,h(l.goodName),1),o("div",Yt,h(l.prizeName)+"/"+h(l.totalNum)+"\u540D ",1)]))),256))])])]),tab3:u(()=>[o("div",null,[o("div",jt,[(a(!0),d(p,null,v(c.prizes[4],l=>(a(),d("div",te,[o("div",ee,[o("img",{class:"img-avatar",src:l.goodPic,alt:""},null,8,se)]),o("div",oe,h(l.goodName),1),o("div",ie,h(l.prizeName)+"/"+h(l.totalNum)+"\u540D ",1)]))),256))])])]),_:1}),o("div",{class:"cover",onClick:e[3]||(e[3]=l=>r.zoomOn=i.contest.tailPic)},[o("img",{class:"inst",src:i.contest.tailPic,alt:""},null,8,ae)])])}var w=$(Tt,[["render",re],["__scopeId","data-v-065f13f9"]]);function ne(){return B.get({url:"/contest/running"})}const le={name:"homepage",components:[w,D,E],inject:["globalData"],data(){return{testList:[],ON:!1,seasonState:0,byEnd:!1,catchTop:0,contest:{}}},methods:{click1(){this.ON=!this.ON},click2(){console.log(9)},scroll(s){let e=s.target.scrollTop,i=s.target.offsetHeight;s.target.scrollHeight-i-e<50?this.byEnd=!0:this.byEnd=!1,this.catchTop=e},replaceBlob(s,e){e.forEach(i=>{I(s[i]).then(n=>{s[i]=n}).catch(n=>{x.error("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25")}),s[i]=S("loading.gif")})}},mounted(){ne().then(s=>{console.log(s),s.code?x.error(s.msg):(this.contest=s.data,console.log(this.contest),this.replaceBlob(this.contest,["bannerPic","introductionPic","tailPic"]),this.contest.prizes[1].forEach(e=>{this.replaceBlob(e,["goodPic"])}),this.contest.prizes[2].forEach(e=>{this.replaceBlob(e,["goodPic"])}),this.contest.prizes[3].forEach(e=>{this.replaceBlob(e,["goodPic"])}),this.contest.prizes[4].forEach(e=>{this.replaceBlob(e,["goodPic"])}),this.globalData.contestId=this.contest.contestId,this.globalData.prizes=this.contest.prizes)})},activated(){this.$refs.homepage.scrollTop=this.catchTop}},M=s=>(L("data-v-0103c162"),s=s(),P(),s),ce={class:"banner"},de=["src"],ue=M(()=>o("div",{class:"banner-tip"},"\u8FD8\u670924\u5929\u622A\u7A3F",-1)),_e={class:"info"},pe=M(()=>o("div",{class:"info-left"},[o("div",{class:"info-title"},"\u89C5\xB7\u65B0"),o("div",{class:"info-tip"},"\u7B2C\u5341\u4E09\u5C4A\u65B9\u5BF8\xB7\u6D41\u5E74\u6444\u5F71\u5927\u8D5B")],-1)),ve={class:"tab-0"},he={class:"tab-1"},me={class:"tab-2"};function ze(s,e,i,n,r,c){const f=G,_=w,l=D,b=E,t=y,T=U;return a(),d("div",{id:"homepage",ref:"homepage",class:"homepage",onScroll:e[6]||(e[6]=(...g)=>c.scroll&&c.scroll(...g))},[o("div",ce,[o("img",{class:"banner-img",src:r.contest.bannerPic,alt:""},null,8,de),ue]),o("div",_e,[pe,z(f,{onClick:e[0]||(e[0]=g=>r.seasonState?0:r.ON=!0),state:r.seasonState},null,8,["state"])]),z(t,{id:1,sticky:"0",title_list:["\u8D5B\u4E8B\u4ECB\u7ECD","\u5168\u90E8\u4F5C\u54C1","\u83B7\u5956\u4F5C\u54C1"],onTab0Click:e[1]||(e[1]=g=>r.seasonState=0),onTab1Click:e[2]||(e[2]=g=>r.seasonState=1),onTab2Click:e[3]||(e[3]=g=>r.seasonState=2)},{tab0:u(()=>[o("div",ve,[z(_,{contest:r.contest},null,8,["contest"])])]),tab1:u(()=>[o("div",he,[z(l,{loadMore:r.byEnd},null,8,["loadMore"])])]),tab2:u(()=>[o("div",me,[z(b)])]),_:1}),z(T,{ON:r.ON,model:0,title:"\u6211\u4EEC\u66F4\u63A8\u8350\u5728PC\u7AEF\u6295\u7A3F\u4F5C\u54C1",tip:"\u4EE5\u907F\u514D\u5728\u624B\u673A\u4E0A\u627E\u4E0D\u5230\u6587\u4EF6\u3002",options:{black:"",grey:"\u575A\u6301\u6295\u7A3F",blue:"\u597D\u7684"},onBlackClick:g=>0,onGreyClick:e[4]||(e[4]=g=>{s.$router.push("/submit"),r.ON=!1}),onBlueClick:e[5]||(e[5]=g=>r.ON=!1)},null,8,["ON"])],544)}var Pe=$(le,[["render",ze],["__scopeId","data-v-0103c162"]]);export{Pe as default};
