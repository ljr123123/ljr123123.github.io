import{_,E as n,b1 as g,A as h,z as m,o as f,c as w,d as e,a as i,b2 as v,w as N,f as V,C as k,p as y,i as L,b3 as C}from"./index.e8d0637a.js";import{l as E,E as O}from"./login.28428fca.js";import{E as B}from"./el-input.bc3cbdbe.js";/* empty css                   */import"./index.ff593085.js";const b={data(){return{ON:!1,account:"",password:"",loginLoading:!1}},methods:{toLogin(t){if(!this.account){n.warning("\u8BF7\u8F93\u5165\u60A8\u7684\u7528\u6237\u540D");return}if(!this.password){n.warning("\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801");return}if(!this.ON){n.warning("\u8BF7\u9605\u8BFB\u5E76\u540C\u610F\u9690\u79C1\u653F\u7B56");return}this.loginLoading=!0,E({username:this.account,password:this.password}).then(({data:o,...l})=>{o.code===0?(n.success("\u767B\u5F55\u6210\u529F"),g(o.data.isAdmin),h(l.headers.token),this.loginLoading=!1,this.$router.push(this.$route.query.from||"/")):(n.error(o.description+": "+o.msg),this.password="",this.loginLoading=!1)}).catch(()=>{n.error("\u767B\u5F55\u5931\u8D25"),this.loginLoading=!1})}},created(){m()&&this.$router.push(this.$route.query.from||"/")}},a=t=>(y("data-v-c5f6e158"),t=t(),L(),t),x={class:"login"},I=a(()=>e("p",{class:"title"},"\u767B\u5F55\u65B9\u5BF8 \xB7 \u6D41\u5E74",-1)),A={class:"content"},K=a(()=>e("p",{class:"tag"},"\u5929\u5916\u5929\u8D26\u6237\u540D",-1)),S=a(()=>e("p",{class:"tag"},"\u5BC6\u7801",-1)),T=C("\u767B\u5F55"),q={class:"other-bar"},U=a(()=>e("div",{class:"forget"},"\u5FD8\u8BB0\u5BC6\u7801",-1));function $(t,o,l,z,s,c){const d=B,p=k,u=O;return f(),w("div",x,[I,e("div",A,[e("form",null,[K,i(d,{modelValue:s.account,"onUpdate:modelValue":o[0]||(o[0]=r=>s.account=r),placeholder:"\u5B66\u53F7/\u6635\u79F0/\u624B\u673A\u53F7...",class:"input"},null,8,["modelValue"]),S,i(d,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=r=>s.password=r),type:"password","show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801...",class:"input",onKeypress:v(c.toLogin,["enter"])},null,8,["modelValue","onKeypress"])]),i(p,{class:"proto",onCheck:o[2]||(o[2]=r=>s.ON=!s.ON),ON:s.ON},null,8,["ON"]),i(u,{"auto-insert-space":"",class:"loginBtn redBtn",onClick:c.toLogin,loading:s.loginLoading},{default:N(()=>[T]),_:1},8,["onClick","loading"]),V("",!0),e("div",q,[e("div",{onClick:o[4]||(o[4]=r=>t.$router.replace("loginA")),class:"other-way"}," \u6CA1\u6709\u5929\u5916\u5929\u8D26\u53F7\uFF1F "),U])])])}var G=_(b,[["render",$],["__scopeId","data-v-c5f6e158"]]);export{G as default};
